# 如何更容易地理解ROS中的概念和软件

初学者在学习ROS的时候， 会感觉这里面涉及到无穷无尽的概念，基础概念有比如节点， 包， 服务， 话题等等， 第三方功能里面有比如moveit， rviz等等工具。还要学习自己要使用的机器人的各种知识， 非常容易被各种新的概念和知识淹没，无所适从。

这里我的建议是从最本质的ROS的工作方式出发。知道它是什么， 基本运行逻辑是什么。

## 1. ROS 是什么？
根据[官方描述](https://www.ros.org/blog/why-ros/)， ROS就是一个开源的机器人应用开发工具箱， 里面有各种用于机器人的标准软件和工具。这本就是一个多样的，涉及各种各样概念的工具箱，所以会有很多新的概念。它的目的就是机器人的开发人员能够一起使用，发行， 共享这些软件工具，避免重复造轮子，提升整个社区的工作质量和工作效率

官方SLOGAN:
> Don’t reinvent the wheel. Create something new and do it faster and better by building on ROS!

## 2. ROS 是怎么运行的？
ROS的核心设计和运行理念是模块化和分布式处理。 因为一个机器人项目通常是非常复杂的，涉及各种硬件控制、软件编写、通信协同等等。ROS希望能够把这些不同的功能部分进行分解，以更小，更容易管理的方式处理他们。让他们能够被单独运行和测试，又能协同工作，完成具体任务。这里面设计到的核心概念是ROS的`节点（Node）`

> 以节点作为核心，ROS中的一切概念和功能都可以被串起来

节点是ROS中的一个可执行文件，它在ROS运行时执行一个特定的功能。你看到和使用的ROS中的所有功能，都是通过节点实现的。比如，图形界面Rviz的节点完成的，机器人的运动控制和规划，是Moveit中的节点完成的，你看到的相机图片，是由相机节点发布，等等。他们看起来是不一样的，有些是图形界面，有些只是命令行输出， 有些是图片。他们也是使用不一样的语言编写的，比如python或者c++。但在ROS中，他们本质上是一样的，**也就是节点**。

运行时，ROS节点之间可以通过多种方式通信，使用topic，或者service等等，完成复杂功能。比如一个相机节点将拍摄到的图片发送给图像处理节点，处理结果再发送给机器人规划节点计算出动作路径，然后再发送给运动控制节点控制机器人的运动。很多时候，ROS运行时通信的模式，数据类型，大小等都是不同的，所以要使用不同的设计。这样想的话，这些概念的存在是不是非常顺理成章。

> 这些概念可以从[ROS wiki](https://wiki.ros.org/ROS/Concepts)上学习。

## 3. 如何学习和理解各种ROS软件包
> 站在巨人的肩膀上

得益于领域内成员们的工作和积累，我们现在使用ROS开发自己项目的时候不需要自己再去写所有的节点。控制相机可以使用官方提供的相机软件包（package），里面会提供各种你需要的相机功能节点。控制机器人，可以使用moveit软件包，里面包括各种机器人功能节点。这是要学习他们的理由。而且我们不应当把他们看做是一个新的东西，一个软件包本质上就是一组节点，用于完成特定功能。

那么要理解一个新的软件包，我们只需要看
- 它里面包含哪些节点？
- 要使用这些节点之前需要完成哪些准备工作？
- 这些节点能实现哪些功能，提供什么服务, 能以什么样的数据形式给我反馈什么信息？

思考并学习回答上面三个问题，我们就能学会这个新的软件包。同时，我们在设计自己的软件包的时候，也可以先考虑一下这些问题，让自己的思路更清晰。